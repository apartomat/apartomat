extend type Query {
    workspace(id: String!): WorkspaceResult!
}

union WorkspaceResult = Workspace | NotFound | Forbidden | ServerError

type Workspace {
    id: String!
    name: String!
    users: WorkspaceUsersResult!
    projects: WorkspaceProjects!
}

union WorkspaceUsersResult = WorkspaceUsers | Forbidden | ServerError

type WorkspaceUsers {
	items: [WorkspaceUser!]!
}

type WorkspaceUser {
	id: String!
	workspace: Id!
	role: WorkspaceUserRole!
	profile: WorkspaceUserProfile!
}

enum WorkspaceUserRole {
	ADMIN
	USER
}

type WorkspaceUserProfile {
    id: String!
    email: String!
	fullName: String!
	abbr: String!
    gravatar: Gravatar
}

type WorkspaceProjects {
	workspace: Id
	list(filter: WorkspaceProjectsFilter! = {} limit: Int! = 10): WorkspaceProjectsListResult!
	total(filter: WorkspaceProjectsFilter! = {}): WorkspaceProjectsTotalResult!
}

input WorkspaceProjectsFilter {
	status: [ProjectStatus!]
}

union WorkspaceProjectsListResult = WorkspaceProjectsList | Forbidden | ServerError

type WorkspaceProjectsList {
	items: [WorkspaceProject!]!
}

union WorkspaceProjectsTotalResult = WorkspaceProjectsTotal | Forbidden | ServerError

type WorkspaceProjectsTotal {
	total: Int!
}

type WorkspaceProject {
	id: String!
	name: String!
	period: String
	status: ProjectStatus!
}
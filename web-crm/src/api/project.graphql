fragment ProjectScreenHouseRooms on HouseRooms {
    list {
        ...on HouseRoomsList {
            items {
                id
                name
                square
                design
            }
        }
        ...on Error {
            message
        }
    }
}

fragment ProjectScreenHouses on ProjectHouses {
    list(filter: {} limit: 1 offset: 0) {
        __typename
        ...on ProjectHousesList {
            items {
                id
                city
                address
                housingComplex
                createdAt
                modifiedAt
                rooms {
                    ...ProjectScreenHouseRooms
                }
            }
        }
        ...on Error {
            message
        }
    }
}


query project($id: String!) {
    screen {
        projectScreen: project(id: $id) {
            project {
                __typename
                ...on Project {
                    id
                    title
                    startAt
                    endAt
                    contacts {
                        list(filter: {} limit: 10 offset: 0) {
                            __typename
                            ...on ProjectContactsList {
                                items {
                                    id
                                    fullName
                                    photo
                                    details {
                                        type
                                        value
                                    }
                                }
                            }
                            ...on Error {
                                message
                            }
                        }
                        total {
                            __typename
                            ...on ProjectContactsTotal {
                                total
                            }
                        }
                    }
                    houses {
                        ...ProjectScreenHouses
                    }
                    files {
                        list(filter: {type: [VISUALIZATION]} limit: 10 offset: 0) {
                            __typename
                            ...on ProjectFilesList {
                                items {
                                    id
                                    name
                                    url
                                    type
                                }
                            }
                            ...on Error {
                                message
                            }
                        }
                        total {
                            __typename
                            ...on ProjectFilesTotal {
                                total
                            }
                        }
                    }
                }
                ...on Error {
                    message
                }
               
            }
            menu {
                __typename
                ...on MenuItems {
                    items {
                        title
                        url
                    }
                }
            }
        }
    }
}